<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>فرم ثبت نظر</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "IRANyekan", sans-serif;
      }
      body {
        background: #fff;

        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      #comment-window {
        width: 100%;
        max-width: 35rem;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        border: 0.1rem solid #898989;
        border-radius: 0.6rem;
        box-shadow: 0 1.125rem 1.25rem rgba(0, 0, 0, 0.1);
      }
      #close-icon {
        position: relative;
        width: 1.5rem;
        align-self: end;
        top: -4rem;
      }

      .body-3 {
        font-size: 1rem;
        line-height: 180%;
        color: #898989;
        align-self: self-start;
      }
      .rate-star {
        display: flex;
        justify-content: start;
        align-items: center;
        gap: 1rem;
      }

      .stars {
        display: flex;
        justify-content: center;
        cursor: pointer;
        gap: 0.2rem;
        /* margin-bottom: 10px; */
      }
      .star {
        font-size: 24px;
        color: #ccc;
        transition: 0.3s;
      }
      .star.selected,
      .star:hover,
      .star:hover ~ .star {
        color: gold;
      }
      input,
      textarea {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        border: 1px solid #ccc;
        border-radius: 8px;
        box-sizing: border-box;
      }
      button {
        width: 100%;
        padding: 12px;
        margin-top: 15px;
        background-color: #a32c2c;
        color: white;
        font-size: 16px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
      }
      small {
        display: block;
        text-align: center;
        margin-top: 10px;
        color: gray;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div id="comment-window">
      <h2>نظر خود را با ما در میان بگذارید</h2>
      <p class="body-3">در مورد تیشرت ساده سفید</p>
      <img
        id="close-icon"
        src="../src/images/selected-product/close-circle.svg"
        alt="close-icon"
        onclick="closeWindow()"
      />
      <div class="rate-star">
        <p class="rate">امتیاز دهید</p>
        <div class="stars" id="starRating">
          <img
            id="star1"
            onclick="changeStar(this)"
            class="submit-star"
            src="../src/images/selected-product/star-empty.svg"
            alt="empty-start"
          />
          <img
            id="star2"
            onclick="changeStar(this)"
            class="submit-star"
            src="../src/images/selected-product/star-empty.svg"
            alt="empty-start"
          />
          <img
            id="star3"
            onclick="changeStar(this)"
            class="submit-star"
            src="../src/images/selected-product/star-empty.svg"
            alt="empty-start"
          />
          <img
            id="star4"
            onclick="changeStar(this)"
            class="submit-star"
            src="../src/images/selected-product/star-empty.svg"
            alt="empty-start"
          />
          <img
            id="star5"
            onclick="changeStar(this)"
            class="submit-star"
            src="../src/images/selected-product/star-empty.svg"
            alt="empty-start"
          />
        </div>
      </div>

      <form id="reviewForm" method="POST" action="/submit-review">
        <input type="hidden" name="rating" id="ratingValue" />

        <label class="input-label" for="comment-title">عنوان نظر</label><br />
        <input type="text" id="comment-title" />

        <label class="input-label" for="positive">نکات مثبت</label><br />
        <input type="text" id="positive" />

        <label class="input-label" for="negative">نکات منفی</label><br />
        <input type="text" id="negative" />

        <label class="input-label" for="comment">متن نظر</label><br />
        <textarea
          id="comment"
          placeholder="نظر خود را وارد کنید"
          required
        ></textarea>

        <button type="submit">ثبت دیدگاه</button>
        <small
          >ثبت دیدگاه به معنی موافقت شما با قوانین انتشار کاستومی است.</small
        >
      </form>
    </div>

    <script>
      const fillSrc = "../src/images/selected-product/star-filled.svg";
      const emptySrc = "../src/images/selected-product/star-empty.svg";

      function changeStar(img) {
        if (img.src.includes("star-filled.svg")) {
          img.src = emptySrc;
        } else {
          img.src = fillSrc;
        }
      }

      function closeWindow(id){
       document.getElementById('comment-window').style.display = 'none';
      }

    </script>
  </body>
</html>
